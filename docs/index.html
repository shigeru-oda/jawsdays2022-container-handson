
<!doctype html>

<html>
<head>
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <meta name="theme-color" content="#4F7DC9">
  <meta charset="UTF-8">
  <title>[JAWS DAYS 2022] ハンズオン～コンテナサービスをCI/CDパイプラインでデプロイしよう～</title>
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Code+Pro:400|Roboto:400,300,400italic,500,700|Roboto+Mono">
  <link rel="stylesheet" href="//fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://storage.googleapis.com/codelab-elements/codelab-elements.css">
  <style>
    .success {
      color: #1e8e3e;
    }
    .error {
      color: red;
    }
  </style>
</head>
<body>
  <google-codelab-analytics gaid="UA-49880327-14"></google-codelab-analytics>
  <google-codelab codelab-gaid="XXXXXXXX"
                  id="docs"
                  title="[JAWS DAYS 2022] ハンズオン～コンテナサービスをCI/CDパイプラインでデプロイしよう～"
                  environment="web"
                  feedback-link="https://github.com/shigeru-oda/jawsdays2022-container-handson">
    
      <google-codelab-step label="はじめに" duration="5">
        <h2 is-upgraded>VPC?</h2>
<p>xx</p>
<h2 is-upgraded>CloudShell?</h2>
<p>xx</p>


      </google-codelab-step>
    
      <google-codelab-step label="VPC作成" duration="5">
        <h2 is-upgraded>CloudShellの起動</h2>
<h2 is-upgraded>VPCの作成</h2>
<p>東京リージョンにVPCを新規に作成します。</p>
<h3 is-upgraded>cmd</h3>
<pre><code language="language-cmd" class="language-cmd">aws ec2 create-vpc \
    --cidr-block 10.0.0.0/16 \
    --tag-specification &#34;ResourceType=vpc,Tags=[{Key=Name,Value=ContainerHandsOn}]&#34;
</code></pre>
<h3 is-upgraded>result</h3>
<pre><code>{
    &#34;Vpc&#34;: {
        &#34;CidrBlock&#34;: &#34;10.0.0.0/16&#34;,
        &#34;DhcpOptionsId&#34;: &#34;dopt-d50f23b2&#34;,
        &#34;State&#34;: &#34;pending&#34;,
        &#34;VpcId&#34;: &#34;vpc-00ee8367984814805&#34;,
        &#34;OwnerId&#34;: &#34;378647896848&#34;,
        &#34;InstanceTenancy&#34;: &#34;default&#34;,
        &#34;Ipv6CidrBlockAssociationSet&#34;: [],
        &#34;CidrBlockAssociationSet&#34;: [
            {
                &#34;AssociationId&#34;: &#34;vpc-cidr-assoc-08913abf335aba6a4&#34;,
                &#34;CidrBlock&#34;: &#34;10.0.0.0/16&#34;,
                &#34;CidrBlockState&#34;: {
                    &#34;State&#34;: &#34;associated&#34;
                }
            }
        ],
        &#34;IsDefault&#34;: false,
        &#34;Tags&#34;: [
            {
                &#34;Key&#34;: &#34;Name&#34;,
                &#34;Value&#34;: &#34;ContainerHandsOn&#34;
            }
        ]
    }
}
</code></pre>
<h2 is-upgraded>変数設定</h2>
<p>作成したVPC IDを取得します。</p>
<h3 is-upgraded>cmd</h3>
<pre><code>vpcid=`aws ec2 describe-vpcs \
    --query &#39;Vpcs[*].VpcId&#39; \
    --filters &#34;Name=tag-key,Values=Name&#34; \
    &#34;Name=tag-value,Values=ContainerHandsOn&#34; \
    --output text`

echo $vpcid
</code></pre>
<h3 is-upgraded>result</h3>
<pre><code>vpc-08a77289b9b351429
</code></pre>
<h2 is-upgraded>Subnetの作成</h2>
<h3 is-upgraded>cmd1</h3>
<pre><code>aws ec2 create-subnet \
    --vpc-id $vpcid \
    --cidr-block 10.0.0.0/24 \
    --tag-specifications &#34;ResourceType=subnet,Tags=[{Key=Name,Value=ContainerHandsOn}]&#34;
</code></pre>
<h3 is-upgraded>cmd2</h3>
<pre><code>aws ec2 create-subnet \
    --vpc-id $vpcid \
    --cidr-block 10.0.1.0/24 \
    --tag-specifications &#34;ResourceType=subnet,Tags=[{Key=Name,Value=ContainerHandsOn}]&#34;
</code></pre>
<h3 is-upgraded>result1</h3>
<pre><code>{
    &#34;Subnet&#34;: {
        &#34;AvailabilityZone&#34;: &#34;ap-northeast-1d&#34;,
        &#34;AvailabilityZoneId&#34;: &#34;apne1-az2&#34;,
        &#34;AvailableIpAddressCount&#34;: 251,
        &#34;CidrBlock&#34;: &#34;10.0.0.0/24&#34;,
        &#34;DefaultForAz&#34;: false,
:...skipping...
{
    &#34;Subnet&#34;: {
        &#34;AvailabilityZone&#34;: &#34;ap-northeast-1d&#34;,
        &#34;AvailabilityZoneId&#34;: &#34;apne1-az2&#34;,
        &#34;AvailableIpAddressCount&#34;: 251,
        &#34;CidrBlock&#34;: &#34;10.0.0.0/24&#34;,
        &#34;DefaultForAz&#34;: false,
        &#34;MapPublicIpOnLaunch&#34;: false,
        &#34;State&#34;: &#34;available&#34;,
        &#34;SubnetId&#34;: &#34;subnet-09a994448454b186e&#34;,
        &#34;VpcId&#34;: &#34;vpc-08a77289b9b351429&#34;,
        &#34;OwnerId&#34;: &#34;378647896848&#34;,
        &#34;AssignIpv6AddressOnCreation&#34;: false,
        &#34;Ipv6CidrBlockAssociationSet&#34;: [],
        &#34;Tags&#34;: [
            {
                &#34;Key&#34;: &#34;Name&#34;,
                &#34;Value&#34;: &#34;ContainerHandsOn&#34;
            }
        ],
        &#34;SubnetArn&#34;: &#34;arn:aws:ec2:ap-northeast-1:378647896848:subnet/subnet-09a994448454b186e&#34;
    }
}
</code></pre>
<h3 is-upgraded>result2</h3>
<pre><code></code></pre>
<h2 is-upgraded>RouteTableの作成</h2>
<h2 is-upgraded>RouteTableの作成</h2>


      </google-codelab-step>
    
      <google-codelab-step label="Cloud9作成" duration="5">
        

      </google-codelab-step>
    
      <google-codelab-step label="ECR作成" duration="5">
        

      </google-codelab-step>
    
      <google-codelab-step label="VPCエンドポイント作成" duration="5">
        

      </google-codelab-step>
    
      <google-codelab-step label="ALB作成" duration="5">
        

      </google-codelab-step>
    
      <google-codelab-step label="Fargate作成" duration="5">
        

      </google-codelab-step>
    
      <google-codelab-step label="動作確認" duration="5">
        

      </google-codelab-step>
    
      <google-codelab-step label="CodeBuild作成" duration="5">
        

      </google-codelab-step>
    
      <google-codelab-step label="CodeDeploy作成" duration="5">
        

      </google-codelab-step>
    
      <google-codelab-step label="CodePipeline作成" duration="5">
        

      </google-codelab-step>
    
      <google-codelab-step label="Dockerコンテナ再ビルド(Codeシリーズを利用)" duration="5">
        

      </google-codelab-step>
    
      <google-codelab-step label="動作確認" duration="5">
        

      </google-codelab-step>
    
      <google-codelab-step label="片付け" duration="5">
        <h2 is-upgraded>途中の見出し</h2>
<aside class="special"><p>何かお知らせを書きたい時のボックス</p>
</aside>
<aside class="warning"><p>何か注意点などを書きたい時のボックス</p>
</aside>


      </google-codelab-step>
    
  </google-codelab>

  <script src="https://storage.googleapis.com/codelab-elements/native-shim.js"></script>
  <script src="https://storage.googleapis.com/codelab-elements/custom-elements.min.js"></script>
  <script src="https://storage.googleapis.com/codelab-elements/prettify.js"></script>
  <script src="https://storage.googleapis.com/codelab-elements/codelab-elements.js"></script>
  <script src="//support.google.com/inapp/api.js"></script>

</body>
</html>
